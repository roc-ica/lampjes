<!DOCTYPE html>
<html lang="nl">

<head>
  <meta charset="UTF-8">
  <title>Lamp en Schakelaars in Serie</title>
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    .circuit {
      flex-direction: row;
      align-items: center;
    }
    .circuit > div {
      flex: 1;
    }
  </style>

</head>

<body>


<h2>Simulatie: Schakelaars in Serie</h2>
<div class="circuit">
  <div>
    <img src="../images/battery.png" class="battery" alt="Batterij">
  </div>
  <div class="serie">
    <div class="switch-container rotate90">
      <div class="wire-vert"></div>
      <img id="switch1" src="../images/switch_off.png" class="switch rotate270" onclick="toggleSwitch(1)" alt="Switch 1">
      <div class="wire-vert"></div>
    </div>
    <div class="switch-container rotate90">
      <div class="wire-vert"></div>
      <img id="switch2" src="../images/switch_off.png" class="switch rotate270" onclick="toggleSwitch(2)" alt="Switch 2">
      <div class="wire-vert"></div>
    </div>
    <div class="switch-container rotate90">
      <div class="wire-vert"></div>
      <img id="switch3" src="../images/switch_off.png" class="switch rotate270" onclick="toggleSwitch(3)" alt="Switch 3">
      <div class="wire-vert"></div>
    </div>
  </div>

  <div class="lamp-container">
    <img id="lamp" src="../images/lamp_off.png" class="lamp" alt="Lamp">
  </div>
</div>

<button class="emergency-button">Reset Schakelaars</button>

<p id="status">De lamp is uit</p>


<section class="info">
  <h1>Opdracht 3</h1>
  <p>
    Stel je voor dat je klaar bent met testen en de schakelaars weer wilt resetten naar de oorspronkelijke "uit"-stand.<br><br>
    Bekijk de knop met de tekst <strong>"Reset schakelaars"</strong>.<br>
    Wanneer je op deze knop klikt:
  <ul>
    <li>Moeten alle schakelaars op "uit" gezet worden</li>
    <li>Moet de lamp ook uit gaan</li>
    <li>Moet de status onder de lamp weer zeggen: <code>De lamp is uit</code></li>
  </ul>
  Tip: je zult een nieuwe functie moeten maken, en deze aan de knop koppelen.
  </p>
</section>


  <script>
    let switches = {
      1: false,
      2: false,
      3: false
    };

    function toggleSwitch(nr) {
      switches[nr] = !switches[nr];
      let img = document.getElementById("switch" + nr);
      img.src = switches[nr] ? "../images/switch_on.png" : "../images/switch_off.png";
      checkLamp();
    }

    function checkLamp() {
      let lamp = document.getElementById("lamp");
      let status = document.getElementById("status");

      if (switches[1] && switches[2] && switches[3]) {
        lamp.src = "../images/lamp_on.png";
        status.innerText = "De lamp is aan";
      } else {
        lamp.src = "../images/lamp_off.png";
        status.innerText = "De lamp is uit";
      }
    }
  </script>
</body>

</html>