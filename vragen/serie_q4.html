<!DOCTYPE html>
<html lang="nl">

<head>
  <meta charset="UTF-8">
  <title>Lamp en Schakelaars in Serie</title>
  <link rel="stylesheet" href="../css/styles.css">
  <style>
    .circuit {
      flex-direction: row;
      align-items: center;
    }
    .circuit > div {
      flex: 1;
    }
  </style>

</head>

<body>


<h2>Simulatie: Schakelaars in Serie</h2>
<div class="circuit">
  <div>
    <img src="../images/battery.png" class="battery" alt="Batterij">
  </div>
  <div class="serie">
    <div class="switch-container rotate90">
      <div class="wire-vert"></div>
      <img id="switch1" src="../images/switch_off.png" class="switch rotate270" onclick="toggleSwitch(1)" alt="Switch 1">
      <div class="wire-vert"></div>
    </div>
    <div class="switch-container rotate90">
      <div class="wire-vert"></div>
      <img id="switch2" src="../images/switch_off.png" class="switch rotate270" onclick="toggleSwitch(2)" alt="Switch 2">
      <div class="wire-vert"></div>
    </div>
    <div class="switch-container rotate90">
      <div class="wire-vert"></div>
      <img id="switch3" src="../images/switch_off.png" class="switch rotate270" onclick="toggleSwitch(3)" alt="Switch 3">
      <div class="wire-vert"></div>
    </div>
  </div>

  <div class="lamp-container">
    <img id="lamp" src="../images/lamp_off.png" class="lamp" alt="Lamp">
  </div>
</div>

<p id="status">De lamp is uit</p>


<section class="info">
  <h1>Opdracht 4</h1>
  <p>
    Eén van de drie schakelaars is kapot: hij staat <strong>altijd aan</strong>, ook als je erop klikt.<br><br>
    Pas de code aan zodat schakelaar <strong>2</strong> altijd op <code>aan</code> staat en niet gewijzigd kan worden door de gebruiker.<br><br>

    - De lamp moet nog steeds alleen aangaan als schakelaar 1 én schakelaar 3 ook aan staan.<br><br>

    - Denk na over:
  <ul>
    <li>Het uitschakelen van de klikfunctie voor schakelaar 2</li>
    <li>Het zetten van de waarde van schakelaar 2 op <code>true</code></li>
    <li>De juiste afbeelding tonen bij het opstarten</li>
  </ul>
  </p>
</section>


<script>
    let switches = {
      1: false,
      2: false,
      3: false
    };

    function toggleSwitch(nr) {
      switches[nr] = !switches[nr];
      let img = document.getElementById("switch" + nr);
      img.src = switches[nr] ? "/images/switch_on.png" : "/images/switch_off.png";
      checkLamp();
    }

    function checkLamp() {
      let lamp = document.getElementById("lamp");
      let status = document.getElementById("status");

      if (switches[1] && switches[2] && switches[3]) {
        lamp.src = "/images/lamp_on.png";
        status.innerText = "De lamp is aan";
      } else {
        lamp.src = "/images/lamp_off.png";
        status.innerText = "De lamp is uit";
      }
    }
</script>
</body>

</html>